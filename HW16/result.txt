The android camera app only use one slide bar to control the threshold. Since the map is colored in green and brown, I only consider the red pixel. If (255 - red pixels) smaller than threshold value, I make that pixel to be black. There are 6 points plotted on the camera app to show the center of mass (COM). While testing, I found COM3 was very effective in tracking the road.
The PWM duty cycle ratio is changed as following: The default is 100% PWM output for both left and right motors. When the COM3 is larger than 320, I decrease the PWM of the right motor by (COM3-320)/320. When the COM3 is smaller than 320, I decrease the PWM of the right motor by (320-COM3)/320.
